parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"or4r":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,v=a||s||Function("return this")(),l=Object.prototype,p=l.toString,b=Math.max,m=Math.min,y=function(){return v.Date.now()};function d(t,n,r){var i,o,u,f,c,a,s=0,v=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(e);function d(e){var n=i,r=o;return i=o=void 0,s=e,f=t.apply(r,n)}function g(t){var e=t-a;return void 0===a||e>=n||e<0||l&&t-s>=u}function O(){var t=y();if(g(t))return x(t);c=setTimeout(O,function(t){var e=n-(t-a);return l?m(e,u-(t-s)):e}(t))}function x(t){return c=void 0,p&&i?d(t):(i=o=void 0,f)}function T(){var t=y(),e=g(t);if(i=arguments,o=this,a=t,e){if(void 0===c)return function(t){return s=t,c=setTimeout(O,n),v?d(t):f}(a);if(l)return c=setTimeout(O,n),d(a)}return void 0===c&&(c=setTimeout(O,n)),f}return n=h(n)||0,j(r)&&(v=!!r.leading,u=(l="maxWait"in r)?b(h(r.maxWait)||0,n):u,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=a=o=c=void 0},T.flush=function(){return void 0===c?f:x(y())},T}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return!!t&&"object"==typeof t}function O(t){return"symbol"==typeof t||g(t)&&p.call(t)==r}function h(t){if("number"==typeof t)return t;if(O(t))return n;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||f.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}module.exports=d;
},{}],"WEtf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()}},e=r;exports.default=e;
},{}],"PndQ":[function(require,module,exports) {
function t(t){if(t)return e(t)}function e(e){for(var s in t.prototype)e[s]=t.prototype[s];return e}"undefined"!=typeof module&&(module.exports=t),t.prototype.on=t.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},t.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((s=r[i])===e||s.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},t.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(s){r=0;for(var i=(s=s.slice(0)).length;r<i;++r)s[r].apply(this,e)}return this},t.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},t.prototype.hasListeners=function(t){return!!this.listeners(t).length};
},{}],"L4M6":[function(require,module,exports) {
module.exports=t,t.default=t,t.stable=o,t.stableStringify=o;var r=[],e=[];function t(t,i,o){var f;for(n(t,"",[],void 0),f=0===e.length?JSON.stringify(t,i,o):JSON.stringify(t,u(i),o);0!==r.length;){var l=r.pop();4===l.length?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}return f}function n(t,i,o,f){var u;if("object"==typeof t&&null!==t){for(u=0;u<o.length;u++)if(o[u]===t){var l=Object.getOwnPropertyDescriptor(f,i);return void(void 0!==l.get?l.configurable?(Object.defineProperty(f,i,{value:"[Circular]"}),r.push([f,i,t,l])):e.push([t,i]):(f[i]="[Circular]",r.push([f,i,t])))}if(o.push(t),Array.isArray(t))for(u=0;u<t.length;u++)n(t[u],u,o,t);else{var a=Object.keys(t);for(u=0;u<a.length;u++){var c=a[u];n(t[c],c,o,t)}}o.pop()}}function i(r,e){return r<e?-1:r>e?1:0}function o(t,n,i){var o,l=f(t,"",[],void 0)||t;for(o=0===e.length?JSON.stringify(l,n,i):JSON.stringify(l,u(n),i);0!==r.length;){var a=r.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return o}function f(t,n,o,u){var l;if("object"==typeof t&&null!==t){for(l=0;l<o.length;l++)if(o[l]===t){var a=Object.getOwnPropertyDescriptor(u,n);return void(void 0!==a.get?a.configurable?(Object.defineProperty(u,n,{value:"[Circular]"}),r.push([u,n,t,a])):e.push([t,n]):(u[n]="[Circular]",r.push([u,n,t])))}if("function"==typeof t.toJSON)return;if(o.push(t),Array.isArray(t))for(l=0;l<t.length;l++)f(t[l],l,o,t);else{var c={},p=Object.keys(t).sort(i);for(l=0;l<p.length;l++){var s=p[l];f(t[s],s,o,t),c[s]=t[s]}if(void 0===u)return c;r.push([u,n,t]),u[n]=c}o.pop()}}function u(r){return r=void 0!==r?r:function(r,e){return e},function(t,n){if(e.length>0)for(var i=0;i<e.length;i++){var o=e[i];if(o[1]===t&&o[0]===n){n="[Circular]",e.splice(i,1);break}}return r.call(this,t,n)}}
},{}],"ymYf":[function(require,module,exports) {
"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(t)}function t(t){return null!==t&&"object"===o(t)}module.exports=t;
},{}],"zs9O":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=require("./is-object");function r(t){if(t)return i(t)}function i(t){for(var e in r.prototype)Object.prototype.hasOwnProperty.call(r.prototype,e)&&(t[e]=r.prototype[e]);return t}module.exports=r,r.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},r.prototype.parse=function(t){return this._parser=t,this},r.prototype.responseType=function(t){return this._responseType=t,this},r.prototype.serialize=function(t){return this._serializer=t,this},r.prototype.timeout=function(e){if(!e||"object"!==t(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))switch(r){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",r)}return this},r.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];r.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(!0===r)return!0;if(!1===r)return!1}catch(i){console.error(i)}if(e&&e.status&&e.status>=500&&501!==e.status)return!0;if(t){if(t.code&&o.includes(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(t,e){var r=this;if(!this._fullfilledPromise){var i=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){i.on("abort",function(){var t=new Error("Aborted");t.code="ABORTED",t.status=r.status,t.method=r.method,t.url=r.url,e(t)}),i.end(function(r,i){r?e(r):t(i)})})}return this._fullfilledPromise.then(t,e)},r.prototype.catch=function(t){return this.then(void 0,t)},r.prototype.use=function(t){return t(this),this},r.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},r.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},r.prototype.get=function(t){return this._header[t.toLowerCase()]},r.prototype.getHeader=r.prototype.get,r.prototype.set=function(t,r){if(e(t)){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=r,this.header[t]=r,this},r.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},r.prototype.field=function(t,r){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(e(t)){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.field(i,t[i]);return this}if(Array.isArray(r)){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&this.field(t,r[o]);return this}if(null==r)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof r&&(r=String(r)),this._getFormData().append(t,r),this},r.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},r.prototype._auth=function(t,e,r,i){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(i("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},r.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},r.prototype.redirects=function(t){return this._maxRedirects=t,this},r.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(t){var r=e(t),i=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(r&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(r&&e(this._data))for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(this._data[o]=t[o]);else"string"==typeof t?(i||this.type("form"),i=this._header["content-type"],this._data="application/x-www-form-urlencoded"===i?this._data?"".concat(this._data,"&").concat(t):t:(this._data||"")+t):this._data=t;return!r||this._isHost(t)?this:(i||this.type("json"),this)},r.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},r.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var r=this.url.slice(e+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}},r.prototype._appendQueryString=function(){console.warn("Unsupported")},r.prototype._timeoutError=function(t,e,r){if(!this._aborted){var i=new Error("".concat(t+e,"ms exceeded"));i.timeout=e,i.code="ECONNABORTED",i.errno=r,this.timedout=!0,this.abort(),this.callback(i)}},r.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};
},{"./is-object":"ymYf"}],"wfik":[function(require,module,exports) {
"use strict";exports.type=function(e){return e.split(/ *; */).shift()},exports.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},exports.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},exports.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e};
},{}],"afOI":[function(require,module,exports) {
"use strict";var t=require("./utils");function e(t){if(t)return r(t)}function r(t){for(var r in e.prototype)Object.prototype.hasOwnProperty.call(e.prototype,r)&&(t[r]=e.prototype[r]);return t}module.exports=e,e.prototype.get=function(t){return this.header[t.toLowerCase()]},e.prototype._setHeaderProperties=function(e){var r=e["content-type"]||"";this.type=t.type(r);var s=t.params(r);for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(this[i]=s[i]);this.links={};try{e.link&&(this.links=t.parseLinks(e.link))}catch(o){}},e.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t};
},{"./utils":"wfik"}],"zbFA":[function(require,module,exports) {
"use strict";function t(t){return n(t)||e(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}function o(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(t){o.prototype[t]=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return this._defaults.push({fn:t,args:e}),this}}),o.prototype._setDefaults=function(r){this._defaults.forEach(function(e){r[e.fn].apply(r,t(e.args))})},module.exports=o;
},{}],"CC3B":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e;"undefined"!=typeof window?e=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),e=void 0):e=self;var r=require("component-emitter"),o=require("fast-safe-stringify"),n=require("./request-base"),s=require("./is-object"),i=require("./response-base"),a=require("./agent-base");function u(){}module.exports=function(t,e){return"function"==typeof e?new exports.Request("GET",t).end(e):1===arguments.length?new exports.Request("GET",t):new exports.Request(t,e)},exports=module.exports;var p=exports;exports.Request=w,p.getXHR=function(){if(e.XMLHttpRequest&&(!e.location||"file:"!==e.location.protocol||!e.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(r){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(o){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("Browser-only version of superagent could not find XHR")};var c="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function h(t){if(!s(t))return t;var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&l(e,r,t[r]);return e.join("&")}function l(t,e,r){if(void 0!==r)if(null!==r)if(Array.isArray(r))r.forEach(function(r){l(t,e,r)});else if(s(r))for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&l(t,"".concat(e,"[").concat(o,"]"),r[o]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));else t.push(encodeURIComponent(e))}function d(t){for(var e,r,o={},n=t.split("&"),s=0,i=n.length;s<i;++s)-1===(r=(e=n[s]).indexOf("="))?o[decodeURIComponent(e)]="":o[decodeURIComponent(e.slice(0,r))]=decodeURIComponent(e.slice(r+1));return o}function f(t){for(var e,r,o,n,s=t.split(/\r?\n/),i={},a=0,u=s.length;a<u;++a)-1!==(e=(r=s[a]).indexOf(":"))&&(o=r.slice(0,e).toLowerCase(),n=c(r.slice(e+1)),i[o]=n);return i}function y(t){return/[\/+]json($|[^-\w])/.test(t)}function m(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=f(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function w(t,e){var r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,o=null;try{o=new m(r)}catch(n){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=n,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",o);try{r._isResponseOK(o)||(t=new Error(o.statusText||"Unsuccessful HTTP response"))}catch(n){t=n}t?(t.original=e,t.response=o,t.status=o.status,r.callback(t,o)):r.callback(null,o)})}function T(t,e,r){var o=p("DELETE",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o}p.serializeObject=h,p.parseString=d,p.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},p.serialize={"application/x-www-form-urlencoded":h,"application/json":o},p.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse},i(m.prototype),m.prototype._parseBody=function(t){var e=p.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&y(this.type)&&(e=p.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)},m.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,o="cannot ".concat(e," ").concat(r," (").concat(this.status,")"),n=new Error(o);return n.status=this.status,n.method=e,n.url=r,n},p.Response=m,r(w.prototype),n(w.prototype),w.prototype.type=function(t){return this.set("Content-Type",p.types[t]||t),this},w.prototype.accept=function(t){return this.set("Accept",p.types[t]||t),this},w.prototype.auth=function(e,r,o){1===arguments.length&&(r=""),"object"===t(r)&&null!==r&&(o=r,r=""),o||(o={type:"function"==typeof btoa?"basic":"auto"});return this._auth(e,r,o,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},w.prototype.query=function(t){return"string"!=typeof t&&(t=h(t)),t&&this._query.push(t),this},w.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this},w.prototype._getFormData=function(){return this._formData||(this._formData=new e.FormData),this._formData},w.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)},w.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},w.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},w.prototype.buffer=w.prototype.ca,w.prototype.ca=w.prototype.agent,w.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},w.prototype.pipe=w.prototype.write,w.prototype._isHost=function(e){return e&&"object"===t(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},w.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||u,this._finalizeQueryString(),this._end()},w.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},w.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var t=this;this.xhr=p.getXHR();var e=this.xhr,r=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var r=e.readyState;if(r>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4===r){var o;try{o=e.status}catch(n){o=0}if(!o){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var o=function(e,r){r.total>0&&(r.percent=r.loaded/r.total*100,100===r.percent&&clearTimeout(t._uploadTimeoutTimer)),r.direction=e,t.emit("progress",r)};if(this.hasListeners("progress"))try{e.addEventListener("progress",o.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",o.bind(null,"upload"))}catch(a){}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(u){return this.callback(u)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof r&&!this._isHost(r)){var n=this._header["content-type"],s=this._serializer||p.serialize[n?n.split(";")[0]:""];!s&&y(n)&&(s=p.serialize["application/json"]),s&&(r=s(r))}for(var i in this.header)null!==this.header[i]&&Object.prototype.hasOwnProperty.call(this.header,i)&&e.setRequestHeader(i,this.header[i]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0===r?null:r)},p.agent=function(){return new a},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){a.prototype[t.toLowerCase()]=function(e,r){var o=new p.Request(t,e);return this._setDefaults(o),r&&o.end(r),o}}),a.prototype.del=a.prototype.delete,p.get=function(t,e,r){var o=p("GET",t);return"function"==typeof e&&(r=e,e=null),e&&o.query(e),r&&o.end(r),o},p.head=function(t,e,r){var o=p("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&o.query(e),r&&o.end(r),o},p.options=function(t,e,r){var o=p("OPTIONS",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},p.del=T,p.delete=T,p.patch=function(t,e,r){var o=p("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},p.post=function(t,e,r){var o=p("POST",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},p.put=function(t,e,r){var o=p("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o};
},{"component-emitter":"PndQ","fast-safe-stringify":"L4M6","./request-base":"zs9O","./is-object":"ymYf","./response-base":"afOI","./agent-base":"zbFA"}],"HZvp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ip:"72.228.10.129",hostname:"cpe-72-228-10-129.nycap.res.rr.com",type:"ipv4",continent_code:"NA",continent_name:"North America",country_code:"US",country_name:"United States",region_code:"MA",region_name:"Massachusetts",city:"Great Barrington",zip:"01230",latitude:42.1617,longitude:-73.3277,location:{geoname_id:4938157,capital:"Washington D.C.",languages:[{code:"en",name:"English",native:"English"}],country_flag:"http://assets.ipstack.com/flags/us.svg",country_flag_emoji:"ðŸ‡ºðŸ‡¸",country_flag_emoji_unicode:"U+1F1FA U+1F1F8",calling_code:"1",is_eu:!1},time_zone:{id:"America/New_York",current_time:"2018-04-17T15:29:13-04:00",gmt_offset:-14400,code:"EDT",is_daylight_saving:!0},currency:{code:"USD",name:"US Dollar",plural:"US dollars",symbol:"$",symbol_native:"$"},connection:{asn:11351,isp:"Time Warner Cable Internet LLC"},security:{is_proxy:!1,proxy_type:null,is_crawler:!1,crawler_name:null,crawler_type:null,is_tor:!1,threat_level:"low",threat_types:null}};exports.default=e;
},{}],"NSOq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("superagent")),t=r(require("./locate-test"));function r(e){return e&&e.__esModule?e:{default:e}}var n=!1,u=4e3,s=null;function o(){if(n)return Promise.resolve(t.default);return new Promise(function(t,r){e.default.get("https://api.ipify.org?format=json").end(function(e,n){e?r(e):n&&n.status>=200&&n.status<400?t(JSON.parse(n.text)):r(e)})})}function i(r){var u=r.ip;if(n)return Promise.resolve(t.default);var o="https://api.ipstack.com/".concat(u,"?access_key=").concat(s);return new Promise(function(t,r){e.default.get(o).end(function(e,n){if(e)r(e);else if(n&&n.status>=200&&n.status<400){var u=JSON.parse(n.text);u.error?r(u.error):t(u)}else r(e)})})}function a(e,t){if(e){s=e;var r=setTimeout(function(){return t("timeout")},u);o().then(i).then(function(e){clearTimeout(r),t(null,e)}).catch(function(e){return t(e)})}else t("error: must pass ipstack key")}var c=a;exports.default=c;
},{"superagent":"CC3B","./locate-test":"HZvp"}],"v9Q8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Womenâ€™s Pockets are Inferior"}],e=null;function n(t,e){var n=document.getElementsByTagName("script")[0],a=document.createElement("script");return a.src=t,a.async=!0,n.parentNode.insertBefore(a,n),e&&"function"==typeof e&&(a.onload=e),a}function a(e){var n=new XMLHttpRequest,a=Date.now(),o="https://pudding.cool/assets/data/stories.json?v=".concat(a);n.open("GET",o,!0),n.onload=function(){if(n.status>=200&&n.status<400){var a=JSON.parse(n.responseText);e(a)}else e(t)},n.onerror=function(){return e(t)},n.send()}function o(t){return"\n\t<a class='footer-recirc__article' href='https://pudding.cool/".concat(t.url,"' target='_blank'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/").concat(t.image,".jpg' alt='").concat(t.hed,"'>\n\t\t<p class='article__headline'>").concat(t.hed,"</p>\n\t</a>\n\t")}function r(){var t=window.location.href,n=e.filter(function(e){return!t.includes(e.url)}).slice(0,4).map(o).join("");d3.select(".pudding-footer .footer-recirc__articles").html(n)}function s(){a(function(t){e=t,r()})}var c={init:s};exports.default=c;
},{}],"vL5c":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof e&&e.amd?e(n):t.scrollama=n()}(this,function(){"use strict";function e(e){return"scrollama__debug-offset--"+e}function t(t){!function(t){var n=t.id,r=t.offsetVal,o=t.stepClass,i=document.createElement("div");i.id=e(n),i.className="scrollama__debug-offset",i.style.position="fixed",i.style.left="0",i.style.width="100%",i.style.height="0",i.style.borderTop="2px dashed black",i.style.zIndex="9999";var s=document.createElement("p");s.innerText='".'+o+'" trigger: '+r,s.style.fontSize="12px",s.style.fontFamily="monospace",s.style.color="black",s.style.margin="0",s.style.padding="6px",i.appendChild(s),document.body.appendChild(i)}({id:t.id,offsetVal:t.offsetVal,stepClass:t.stepEl[0].className})}function n(e){var t=e.id,n=e.index,r=e.state,o="scrollama__debug-step--"+t+"-"+n,i=document.getElementById(o+"_above"),s=document.getElementById(o+"_below"),a="enter"===r?"block":"none";i&&(i.style.display=a),s&&(s.style.display=a)}return function(){var r=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"],o={stepEnter:function(){},stepExit:function(){},stepProgress:function(){}},i={},s=null,a=[],c=[],l=[],u=[],f=0,d=0,p=0,v=0,g=0,m=0,b=!1,w=!1,x=!1,h=!1,y=!1,E=!1,I="down",M=[];function O(e){return e.getBoundingClientRect().top+window.pageYOffset-(document.body.clientTop||0)}function A(e){return+e.getAttribute("data-scrollama-index")}function C(){window.pageYOffset>g?I="down":window.pageYOffset<g&&(I="up"),g=window.pageYOffset}function k(e){i[e]&&i[e].forEach(function(e){return e.disconnect()})}function B(){var t,n;p=window.innerHeight,t=document.body,n=document.documentElement,v=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),d=f*p,b&&(c=a.map(function(e){return e.getBoundingClientRect().height}),l=a.map(O),w&&V()),x&&function(t){var n=t.id,r=t.offsetMargin,o=e(n);document.getElementById(o).style.top=r+"px"}({id:s,stepOffsetHeight:c,offsetMargin:d,offsetVal:f})}function H(e){if(e&&!w){if(!b)return console.error("scrollama error: enable() called before scroller was ready"),void(w=!1);V()}!e&&w&&r.forEach(k),w=e}function N(e,t){var n=A(e);void 0!==t&&(u[n].progress=t);var r={element:e,index:n,progress:u[n].progress};"enter"===u[n].state&&o.stepProgress(r)}function S(e,t){if("above"===t)for(var n=0;n<e;n+=1){var r=u[n];"enter"!==r.state&&"down"!==r.direction?(_(a[n],"down",!1),P(a[n],"down")):"enter"===r.state&&P(a[n],"down")}else if("below"===t)for(var o=u.length-1;o>e;o-=1){var i=u[o];"enter"===i.state&&P(a[o],"up"),"down"===i.direction&&(_(a[o],"up",!1),P(a[o],"up"))}}function _(e,t,r){void 0===r&&(r=!0);var i=A(e),a={element:e,index:i,direction:t};u[i].direction=t,u[i].state="enter",y&&r&&"down"===t&&S(i,"above"),y&&r&&"up"===t&&S(i,"below"),o.stepEnter&&!M[i]&&(o.stepEnter(a,u),x&&n({id:s,index:i,state:"enter"}),E&&(M[i]=!0)),h&&N(e)}function P(e,t){var r=A(e),i={element:e,index:r,direction:t};h&&("down"===t&&u[r].progress<1?N(e,1):"up"===t&&u[r].progress>0&&N(e,0)),u[r].direction=t,u[r].state="exit",o.stepExit(i,u),x&&n({id:s,index:r,state:"exit"})}function R(e){var t=e[0];C();var n=t.isIntersecting,r=t.boundingClientRect,o=t.target,i=r.top,s=r.bottom,a=i-d,c=s-d,l=A(o),f=u[l];n&&a<=0&&c>=0&&"down"===I&&"enter"!==f.state&&_(o,I),!n&&a>0&&"up"===I&&"enter"===f.state&&P(o,I)}function T(e){var t=e[0];C();var n=t.isIntersecting,r=t.boundingClientRect,o=t.target,i=r.top,s=r.bottom,a=i-d,c=s-d,l=A(o),f=u[l];n&&a<=0&&c>=0&&"up"===I&&"enter"!==f.state&&_(o,I),!n&&c<0&&"down"===I&&"enter"===f.state&&P(o,I)}function Y(e){var t=e[0];C();var n=t.isIntersecting,r=t.target,o=A(r),i=u[o];n&&"down"===I&&"down"!==i.direction&&"enter"!==i.state&&(_(r,"down"),P(r,"down"))}function j(e){var t=e[0];C();var n=t.isIntersecting,r=t.target,o=A(r),i=u[o];n&&"up"===I&&"down"===i.direction&&"enter"!==i.state&&(_(r,"up"),P(r,"up"))}function q(e){var t=e[0];C();var n=t.isIntersecting,r=t.intersectionRatio,o=t.boundingClientRect,i=t.target,s=o.bottom;n&&s-d>=0&&N(i,+r.toFixed(3))}function F(){i.stepProgress=a.map(function(e,t){var n=c[t]-d+"px 0px "+(-p+d)+"px 0px",r=function(e){for(var t=Math.ceil(e/m),n=[],r=1/t,o=0;o<t;o+=1)n.push(o*r);return n}(c[t]),o=new IntersectionObserver(q,{rootMargin:n,threshold:r});return o.observe(e),o})}function V(){r.forEach(k),i.viewportAbove=a.map(function(e,t){var n=v-l[t],r=d-p-c[t],o=new IntersectionObserver(Y,{rootMargin:n+"px 0px "+r+"px 0px"});return o.observe(e),o}),i.viewportBelow=a.map(function(e,t){var n=-d-c[t],r=d-p+c[t]+v,o=new IntersectionObserver(j,{rootMargin:n+"px 0px "+r+"px 0px"});return o.observe(e),o}),i.stepAbove=a.map(function(e,t){var n=-d+c[t],r=new IntersectionObserver(R,{rootMargin:n+"px 0px "+(d-p)+"px 0px"});return r.observe(e),r}),i.stepBelow=a.map(function(e,t){var n=-d,r=d-p+c[t],o=new IntersectionObserver(T,{rootMargin:n+"px 0px "+r+"px 0px"});return o.observe(e),o}),h&&F()}function z(e){return!(!e||1!==e.nodeType)&&(function(e){var t=window.getComputedStyle(e);return("scroll"===t.overflowY||"auto"===t.overflowY)&&e.scrollHeight>e.clientHeight}(e)?e:z(e.parentNode))}var D={};return D.setup=function(e){var n=e.step,r=e.offset;void 0===r&&(r=.5);var o=e.progress;void 0===o&&(o=!1);var i=e.threshold;void 0===i&&(i=4);var c=e.debug;void 0===c&&(c=!1);var l=e.order;void 0===l&&(l=!0);var d,p,v,g,w,I=e.once;if(void 0===I&&(I=!1),p=(d="abcdefghijklmnopqrstuv").length,v=Date.now(),s=""+[0,0,0].map(function(e){return d[Math.floor(Math.random()*p)]}).join("")+v,g=n,void 0===w&&(w=document),!(a="string"==typeof g?Array.from(w.querySelectorAll(g)):g instanceof Element?[g]:g instanceof NodeList?Array.from(g):g instanceof Array?g:[]).length)return console.error("scrollama error: no step elements"),D;var M=a.reduce(function(e,t){return e||z(t.parentNode)},!1);return M&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",M),x=c,h=o,y=l,E=I,D.offsetTrigger(r),m=Math.max(1,+i),b=!0,x&&t({id:s,stepEl:a,offsetVal:f}),a.forEach(function(e,t){return e.setAttribute("data-scrollama-index",t)}),u=a.map(function(){return{direction:null,state:null,progress:0}}),B(),D.enable(),D},D.resize=function(){return B(),D},D.enable=function(){return H(!0),D},D.disable=function(){return H(!1),D},D.destroy=function(){H(!1),Object.keys(o).forEach(function(e){o[e]=null}),Object.keys(i).forEach(function(e){i[e]=null})},D.offsetTrigger=function(e){return e&&!isNaN(e)?(e>1&&console.error("scrollama error: offset value is greater than 1. Fallbacks to 1."),e<0&&console.error("scrollama error: offset value is lower than 0. Fallbacks to 0."),f=Math.min(Math.max(0,e),1),D):(isNaN(e)&&console.error("scrollama error: offset value is not a number. Fallbacks to 0."),f)},D.onStepEnter=function(e){return"function"==typeof e?o.stepEnter=e:console.error("scrollama error: onStepEnter requires a function"),D},D.onStepExit=function(e){return"function"==typeof e?o.stepExit=e:console.error("scrollama error: onStepExit requires a function"),D},D.onStepProgress=function(e){return"function"==typeof e?o.stepProgress=e:console.error("scrollama error: onStepProgress requires a function"),D},D}});
},{}],"xZJw":[function(require,module,exports) {
"use strict";function t(t){return new Promise(function(e,n){var r=t.split(".").pop();"csv"===r?d3.csv("assets/data/".concat(t)).then(e).catch(n):"json"===r?d3.json("assets/data/".concat(t)).then(e).catch(n):n(new Error("unsupported file type for: ".concat(t)))})}function e(e){if("string"==typeof e)return t(e);var n=e.map(t);return Promise.all(n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"CRRU":[function(require,module,exports) {
!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,e=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},o.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},o.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(window,"resize",this._checkForIntersections,!0),r(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var i=o.element,r=s(i),h=this._rootContainsTarget(i),c=o.entry,a=t&&h&&this._computeTargetAndRootIntersection(i,e),u=o.entry=new n({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:r,rootBounds:e,intersectionRect:a});c?t&&h?this._hasCrossedThreshold(c,u)&&this._queuedEntries.push(u):c&&c.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(e,n){if("none"!=window.getComputedStyle(e).display){for(var o,i,r,h,a,u,d,l,p=s(e),f=c(e),g=!1;!g;){var _=null,v=1==f.nodeType?window.getComputedStyle(f):{};if("none"==v.display)return;if(f==this.root||f==t?(g=!0,_=n):f!=t.body&&f!=t.documentElement&&"visible"!=v.overflow&&(_=s(f)),_&&(o=_,i=p,r=void 0,h=void 0,a=void 0,u=void 0,d=void 0,l=void 0,r=Math.max(o.top,i.top),h=Math.min(o.bottom,i.bottom),a=Math.max(o.left,i.left),u=Math.min(o.right,i.right),l=h-r,!(p=(d=u-a)>=0&&l>=0&&{top:r,bottom:h,left:a,right:u,width:d,height:l})))break;f=c(f)}return p}},o.prototype._getRootRect=function(){var e;if(this.root)e=s(this.root);else{var n=t.documentElement,o=t.body;e={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},o.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},o.prototype._rootIsInDom=function(){return!this.root||h(t,this.root)},o.prototype._rootContainsTarget=function(e){return h(this.root||t,e)},o.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},o.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=o,window.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function o(t,e){var n,o,i,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function i(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function r(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function s(t){var e;try{e=t.getBoundingClientRect()}catch(n){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function h(t,e){for(var n=e;n;){if(n==t)return!0;n=c(n)}return!1}function c(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}();
},{}],"xov2":[function(require,module,exports) {
d3.selection.prototype.puddingBar=function(t){var n=this.nodes().map(function(t){var n=d3.select(t),a=null,r=null,e=n.datum(),o=0,c=0,i=20,u=d3.scaleLinear(),l=d3.scaleBand(),d=d3.format(",d"),s={init:function(){a=n.select(".annual__svg"),console.log("init called"),a.select(".g-vis")&&a.select(".g-vis").remove(),r=a.append("g").attr("class","g-vis")},resize:function(t){o=n.node().offsetWidth-8-8,c=n.node().offsetHeight-0-0,a.attr("width",o+8+8).attr("height",c+0+0);var r=3===t?e.map(function(t){return t.average}):e.map(function(t){return t.total19}),d=d3.max(r);return u.domain([0,d]).range([0,o-200]),l.domain(d3.range(0,12)).range([0,c]).padding(.2),i=l.bandwidth(),s},render:function(t){var n=t.index,a=t.rankMap,c=t.readerStationID;r.attr("transform","translate(".concat(8,", ").concat(0,")"));var f=r.selectAll(".g-location").data(e,function(t){return t.id}).join(function(t){return t.append("g").attr("class","g-location").attr("transform",function(t,n){return"translate(0, ".concat(l(n),")")})},function(t){return t.transition().duration(500).attr("transform",function(t,n){return"translate(0, ".concat(l(n),")")})});f.selectAll(".bar").data(function(t){return[t]}).join(function(t){return t.append("rect").attr("class",function(t){return"bar bar-".concat(t.id)})}).attr("x",200).attr("y",0).attr("height",i).style("fill",function(t){return console.log({readerStationID:c,id:t.id}),"USW00094290"===t.id?"#A7435C":t.id===c?"#342A4E":"#543F61"}).transition().duration(500).attr("width",function(t){return u(3===n?t.average:t.total19)}),f.selectAll(".location").data(function(t){return[t]}).join(function(t){return t.append("text").attr("class","location")}).text(function(t){return n>=2?"".concat(a.get(t.id)+1,". ").concat((r=t.city,e=15,o=r.substr(0,e-1),r.length>e?"".concat(r.substr(0,o.lastIndexOf(" ")),"..."):r),", ").concat(t.state):"".concat(t.city,", ").concat(t.state);var r,e,o}).attr("alignment-baseline","middle").attr("transform","translate(".concat(192,", ").concat(i/2,")")).attr("text-anchor","end"),f.selectAll(".annual__amount").data(function(t){return[t]}).join(function(t){return t.append("text").attr("class","annual__amount")}).text(function(t){return"".concat(d(3===n?t.average:t.total19)," in")}).attr("alignment-baseline","middle").attr("transform",function(t){var a=u(3===n?t.average:t.total19)<50?16:0;return console.log({extra:a}),3===n?"translate(".concat(u(t.average)+200-8+a,", ").concat(i/2,")"):"translate(".concat(u(t.total19)+200-8+a,", ").concat(i/2,")")}).attr("text-anchor",function(t){return u(3===n?t.average:t.total19)<50?"start":"end"}).classed("outside",function(t){return u(3===n?t.average:t.total19)<50});var g=null,p=null;if(n>=2){var v=a.get(e[10].id)+1,m=a.get(e[11].id)+1;g=11===v,p=12===m||m===v+1}var h=Math.round((l.step()-l.bandwidth())/2);return r.selectAll(".break").data([0,1]).join(function(t){return t.append("line").attr("class",function(t,n){return"break break-".concat(n)})}).attr("y1",function(t){return 0===t?l(10)-h:l(11)-h}).attr("y2",function(t){return 0===t?l(10)-h:l(11)-h}).attr("x1",0).attr("x2",o).classed("is-hidden",function(t){return n<2||0===t&&g||1===t&&p}),s},data:function(t){return arguments.length?(e=t,n.datum(e),s):e}};return s.init(),s});return n.length>1?n:n.pop()};
},{}],"aJJm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("scrollama")),t=n(require("./load-data"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}require("intersection-observer"),require("./pudding-chart/annual-template");var a=(0,e.default)(),o=d3.select(".annual"),c=o.select("figure"),s=c.select("svg"),l=o.selectAll(".step"),d=d3.select(".readerCompare"),f=o.select(".seattleRank"),p=o.select(".readerRank"),g=c.select(".figure__hed"),v=null,h=null,b=null,m=null,O=!1,y=null,x=null,P=null,j="USW00094290",w="USW00012815",S=null,_=0;function D(){x=[{step:0,ids:[j,w]},{step:1,ids:[j,w]},{step:2,ids:[j]},{step:3,ids:[j]}]}var M=["th","st","nd","rd"];function k(e){var t=e%100;return M[(t<11||t>13)&&t%10]||M[0]}function E(){m=h.id,x[1].ids.push(m),x[2].ids.push(m),x[3].ids.push(m)}function q(e){var t=null;t=3===e?v.sort(function(e,t){return d3.descending(e.average,t.average)}).map(function(e,t){return[e.id,t]}):v.sort(function(e,t){return d3.descending(e.total19,t.total19)}).map(function(e,t){return[e.id,t]}),S=new Map(t)}function z(){var e=v.filter(function(e){return e.id===j})[0].total19,t=v.filter(function(e){return e.id===m})[0].total19>e;d.text(t?"more":"less");var n=S.get(j)+1,r=S.get(m)+1;f.text("".concat(n).concat(k(n))),p.text("".concat(r).concat(k(r)))}function A(e){e<3?g.text("2019 Annual Precipitation (mm)"):g.text("2010-2019 Average Annual Precipitation (mm)")}function I(){v.sort(function(e,t){return d3.descending(e.total19,t.total19)}).slice(0,10).map(function(e){return e.id}).forEach(function(e){return x[2].ids.push(e)}),v.map(function(e){return i({},e)}).sort(function(e,t){return d3.descending(e.average,t.average)}).slice(0,10).map(function(e){return e.id}).forEach(function(e){return x[3].ids.push(e)})}function R(e){var t=v.filter(function(t){return x[e].ids.includes(t.id)});return 3===e?t.sort(function(e,t){return d3.descending(e.average,t.average)}):t.sort(function(e,t){return d3.descending(e.total19,t.total19)}),t}function U(e){var t=R(_=e.index);q(_),A(_),P.data(t).resize(_).render({index:_,rankMap:S,readerStationID:m})}function W(){a.setup({step:".annual .step",offset:.9,debug:!1}).onStepEnter(U)}function B(){var e=R(0);P=c.datum(e).puddingBar()}function C(){D(),E(),I(),q(),B(),W(),z(),F()}function H(e){return e.map(function(e){return i({},e,{average:+e.average,total19:+e.total19})})}function F(){var e=Math.floor(window.innerHeight);l.style("height","".concat(e,"px")),a.resize(),P.resize(_).render({index:_,rankMap:S,readerStationID:m})}function G(e){(0,t.default)("annual_precip.csv").then(function(t){v=H(t),h=e,C()}).catch(console.error)}var J={init:G,resize:F};exports.default=J;
},{"scrollama":"vL5c","./load-data":"xZJw","intersection-observer":"CRRU","./pudding-chart/annual-template":"xov2"}],"BwUw":[function(require,module,exports) {
function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function t(t){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?e(o,!0).forEach(function(e){n(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}d3.selection.prototype.puddingDaily=function(e){var n=this.nodes().map(function(e){var n=d3.select(e),a=d3.select(e.parentNode),o=d3.select(".daily__legend-staggered"),r=null,l=null,i=null,c=n.datum(),d=null,s=c[0].city,u=0,p=0,h=window.devicePixelRatio?Math.min(window.devicePixelRatio,2):1,f=30,g=10,w=500,m=d3.easeCubic,y=null,v=null,b="#342A4E",D="#B0ABB0",O=d3.scaleTime(),x=d3.scaleLinear(),j=d3.scaleBand(),P=[{month:"Jan",date:new Date(2019,0,15)},{month:"Feb",date:new Date(2019,1,14)},{month:"Mar",date:new Date(2019,2,15)},{month:"Apr",date:new Date(2019,3,15)},{month:"May",date:new Date(2019,4,15)},{month:"Jun",date:new Date(2019,5,15)},{month:"Jul",date:new Date(2019,6,15)},{month:"Aug",date:new Date(2019,7,15)},{month:"Sep",date:new Date(2019,8,15)},{month:"Oct",date:new Date(2019,9,15)},{month:"Nov",date:new Date(2019,10,15)},{month:"Dec",date:new Date(2019,11,15)}];function S(e){(d=c.map(function(e){return t({},e)})).forEach(function(t){t.sh="flat"===e?x(t.value):p/2,t.th="flat"===e?p/2:x(t.value)}),y=d3.timer(function(e){var t=Math.min(1,m(e/w));d.forEach(function(e){e.h=e.sh*(1-t)+e.th*t}),l.clearRect(0,0,u,p),d.forEach(function(e){l.fillStyle=e.value>0?b:D,l.fillRect(O(e.date),f+g,v,e.h)}),P.forEach(function(e){l.font="".concat(14*h,'px "National 2 Narrow Web"'),l.fillStyle="#543F61",l.fillText(e.month,O(e.date),f),l.textAlign="center"}),1===t&&y.stop()})}var E={init:function(){if(r=n.select(".daily__canvas"),l=r.node().getContext("2d"),"Seattle"!==s||o.select(".g-bars")){if("Seattle"===s&&o.select(".g-bars")){o.select(".g-bars").remove(),o.select(".g-anno").remove(),i=o.append("div").attr("class","g-bars");var e=o.append("div").attr("class","g-anno");e.append("p").attr("class","legend-anno legend-anno-low").text("0 in"),e.append("p").attr("class","legend-anno legend-anno-high")}}else{console.log("doesn't exist yet"),i=o.append("div").attr("class","g-bars");var t=o.append("div").attr("class","g-anno");t.append("p").attr("class","legend-anno legend-anno-low").text("0 in"),t.append("p").attr("class","legend-anno legend-anno-high")}var d;d=c.filter(function(e){return e.value>0}).length,a.select(".daily__city-count").text("".concat(d," wet days"))},resize:function(e){return u=(n.node().offsetWidth-0-0)*h,p=(n.node().offsetHeight-0-0)*h,r.attr("width",u).attr("height",p).style("width","".concat(u/h,"px")).style("height","".concat(p/h,"px")),O.domain([new Date(2019,0,1),new Date(2019,11,31)]).range([0,u]),x.domain([0,e]).range([0,p-(f+g)]),v=Math.round(u/365),j.domain(d3.range(0,5)).domain([0,5*v]),"Seattle"===c[0].city&&function(e,t){var n=Math.round(e/5),a=d3.range(0,e,n);console.log({legend:a[5]}),i.selectAll(".bar").data(a,function(e){return e[1]}).join(function(e){return e.append("div").attr("class","bar")}).style("width","".concat(t/h,"px")).style("height",function(e){return"".concat(x(e)/h,"px")}),d3.select(".legend-anno-high").text("".concat(e," in"))}(e,v),E},render:function(e){return S(e),E},data:function(e){return arguments.length?(c=e,n.datum(c),E):c}};return E.init(),E});return n.length>1?n:n.pop()};
},{}],"oMvT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}require("./pudding-chart/daily-template");var i=d3.select(".daily"),c=i.select("figure"),l=c.selectAll(".daily__container"),d=[],s=c.selectAll("button"),o=c.select(".daily__legend-flat"),u=c.select(".daily__legend-staggered"),f=null,p=null,y=d3.timeParse("%Y-%m-%d"),h=null,v=null,b="flat";function g(e){return e.map(function(e){return n({},e,{date:y(e.date),value:+e.value})})}function O(){p=d3.nest().key(function(e){return e.id}).entries(f)}function _(){var e=d3.select(this),t=e.attr("data-id"),r=d3.select(this.parentNode);console.log({$sel:e,chartID:t});var n=p.filter(function(e){return e.key===t})[0].values;r.select("h3").text("".concat(n[0].city,", ").concat(n[0].state));var a=e.data([n]).puddingDaily();a.resize(v).render("flat"),d.push(a)}function j(){var e=[];l.each(function(t){var r=d3.select(this).attr("data-id");e.push(r)}),console.log({readerStationDetails:h});var t=e.includes(h.id);c.select('[data-start="reader"]').classed("is-hidden",t),c.select('.daily__city-name [data-id="reader"]').text(h.city);var r=c.selectAll('[data-start="reader"]');console.log({readerChart:r}),r.attr("data-id",h.id);var n=f.filter(function(t){return e.includes(t.id)});v=d3.max(n,function(e){return e.value})}function P(){s.on("click",function(e){var t=d3.select(this);s.attr("aria-pressed","false").classed("is-selected",!1),t.attr("aria-pressed","true").classed("is-selected",!0),b=t.attr("data-condition"),d.forEach(function(e){return e.render(b)}),"flat"===b?(u.classed("is-hidden",!0),o.classed("is-hidden",!1)):(u.classed("is-hidden",!1),o.classed("is-hidden",!0))})}function m(){O(),j(),l.each(_),P()}function w(){d.forEach(function(e){return e.resize(v).render(b)})}function D(t){(0,e.default)("daily_precip.csv").then(function(e){f=g(e),h=t,m()}).catch(console.error)}var x={init:D,resize:w};exports.default=x;
},{"./load-data":"xZJw","./pudding-chart/daily-template":"BwUw"}],"kfB7":[function(require,module,exports) {
var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,o=n.execScript;!r&&o&&(o.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var c=Object_keys(n),i=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(c,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),i},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t};
},{}],"osrT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=[{state:"Alabama",abbr:"AL"},{state:"Alaska",abbr:"AK"},{state:"Arizona",abbr:"AZ"},{state:"Arkansas",abbr:"AR"},{state:"California",abbr:"CA"},{state:"Colorado",abbr:"CO"},{state:"Connecticut",abbr:"CT"},{state:"Delaware",abbr:"DE"},{state:"Florida",abbr:"FL"},{state:"Georgia",abbr:"GA"},{state:"Hawaii",abbr:"HI"},{state:"Idaho",abbr:"ID"},{state:"Illinois",abbr:"IL"},{state:"Indiana",abbr:"IN"},{state:"Iowa",abbr:"IA"},{state:"Kansas",abbr:"KS"},{state:"Kentucky",abbr:"KY"},{state:"Louisiana",abbr:"LA"},{state:"Maine",abbr:"ME"},{state:"Montana",abbr:"MT"},{state:"Nebraska",abbr:"NE"},{state:"Nevada",abbr:"NV"},{state:"New Hampshire",abbr:"NH"},{state:"New Jersey",abbr:"NJ"},{state:"New Mexico",abbr:"NM"},{state:"New York",abbr:"NY"},{state:"North Carolina",abbr:"NC"},{state:"North Dakota",abbr:"ND"},{state:"Ohio",abbr:"OH"},{state:"Oklahoma",abbr:"OK"},{state:"Oregon",abbr:"OR"},{state:"Maryland",abbr:"MD"},{state:"Massachusetts",abbr:"MA"},{state:"Michigan",abbr:"MI"},{state:"Minnesota",abbr:"MN"},{state:"Mississippi",abbr:"MS"},{state:"Missouri",abbr:"MO"},{state:"Pennsylvania",abbr:"PA"},{state:"Rhode Island",abbr:"RI"},{state:"South Carolina",abbr:"SC"},{state:"South Dakota",abbr:"SD"},{state:"Tennessee",abbr:"TN"},{state:"Texas",abbr:"TX"},{state:"Utah",abbr:"UT"},{state:"Vermont",abbr:"VT"},{state:"Virginia",abbr:"VA"},{state:"Washington",abbr:"WA"},{state:"West Virginia",abbr:"WV"},{state:"Wisconsin",abbr:"WI"},{state:"Wyoming",abbr:"WY"},{state:"Washington DC",abbr:"DC"},{state:"Puerto Rico",abbr:"PR"}];exports.default=a;
},{}],"e4W5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./us-state-data"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=e.default.find(function(e){return e.abbr.toLowerCase()===t.toLowerCase()});return r?r.state:null}var u=r;exports.default=u;
},{"./us-state-data":"osrT"}],"Ztj5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=b;var t=require("vm"),e=r(require("./load-data")),n=r(require("./utils/lookup-state-name"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=null,c=null,l=null,s=d3.selectAll(".readerCity"),f=d3.select(".user__city"),d=null;function p(t){return t.map(function(t){return u({},t,{latitude:+t.latitude,longitude:+t.longitude})})}function y(t,e,n,r){function i(t){return t*Math.PI/180}var u=i(t),o=i(n),a=i(n-t),c=i(r-e),l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(u)*Math.cos(o)*Math.sin(c/2)*Math.sin(c/2);return 3958.756*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function v(t){var e=l.map(function(e){return u({},e,{distance:y(t.latitude,t.longitude,+e.latitude,+e.longitude),seattle:y(t.latitude,t.longitude,47.6872,-122.2553)})}).filter(function(t){return!isNaN(t.distance)});return e.sort(function(t,e){return d3.descending(t.distance,e.distance)}),e.pop()}function h(){var t=d3.select(this).attr("value");console.log({sel:t});d.filter()}function g(){d=d3.nest().key(function(t){return t.state}).sortKeys(d3.ascending).sortValues(function(t,e){return d3.ascending(t.city,e.city)}).entries(l);var t=d3.select(".user__state");t.selectAll("option").data(d,function(t){return t.key}).join(function(t){return t.append("option").text(function(t){return(0,n.default)(t.key)}).attr("value",function(t){return t.key})});var e=d.filter(function(t){return"AK"===t.key})[0].values;f.selectAll("option").data(e,function(t){return t.id}).join(function(t){return t.append("option").text(function(t){return"".concat(t.city," (").concat(t.station," Station)")}).attr("value",function(t){return t.id}).attr("data-city",function(t){return t.city})}),t.on("change",function(){var t=d3.select(this).property("value"),e=d.filter(function(e){return e.key===t})[0].values;f.selectAll("option").data(e,function(t){return t.id}).join(function(t){return t.append("option").text(function(t){return"".concat(t.city," (").concat(t.station," Station)")}).attr("value",function(t){return t.id}).attr("data-city",function(t){return t.city})})})}function b(t){return new Promise(function(n,r){(0,e.default)("locations.csv").then(function(e){l=p(e);var r=v(t);g();var i=r.seattle<=50,u=i?"USW00094728":r.id,o=i?"New York":r.city;s.text(o),n({id:u,city:o})}).catch(r)})}
},{"vm":"kfB7","./load-data":"xZJw","./utils/lookup-state-name":"e4W5"}],"epB2":[function(require,module,exports) {
"use strict";var e=u(require("lodash.debounce")),t=u(require("./utils/is-mobile")),i=u(require("./utils/locate")),d=u(require("./footer")),n=u(require("./annual")),l=u(require("./daily")),r=u(require("./reader"));function u(e){return e&&e.__esModule?e:{default:e}}var a=d3.select("body"),c=d3.select(".popup__submit"),o=d3.select(".intro__user"),s=d3.select(".intro__overlay"),f=0,_={country_code:"US",country_name:"United States",region_code:"NY",region_name:"New York",city:"New York",zip_code:"10001",time_zone:"America/New_York",latitude:40.7789,longitude:-73.9692};function y(){s.classed("is-hidden",!1)}function v(){var e=d3.select(".user__city"),t=e.property("value"),i=e.selectAll("option").filter(function(e,t,i){return d3.select(i[t]).property("selected")}).attr("data-city"),d={id:t,city:i};d3.selectAll(".readerCity").text(i),n.default.init(d),l.default.init(d),s.classed("is-hidden",!0)}function b(){var e=a.node().offsetWidth;f!==e&&(f=e,n.default.resize(),l.default.resize())}function g(){if(a.select("header").classed("is-sticky")){var e=a.select(".header__menu"),t=a.select(".header__toggle");t.on("click",function(){var i=e.classed("is-visible");e.classed("is-visible",!i),t.classed("is-visible",!i)})}}function h(){return new Promise(function(e,t){(0,i.default)("fd4d87f605681c0959c16d9164ab6a4a",function(t,i){var d=t||"US"!==i.country_code?{latitude:_.latitude,longitude:_.longitude}:{latitude:i.latitude,longitude:i.longitude};e(d)})})}function m(){a.classed("is-mobile",t.default.any()),window.addEventListener("resize",(0,e.default)(b,150)),g(),h(),c.on("click",v),o.on("click",y),d.default.init(),h().then(r.default).then(function(e){n.default.init(e),l.default.init(e)})}m();
},{"lodash.debounce":"or4r","./utils/is-mobile":"WEtf","./utils/locate":"NSOq","./footer":"v9Q8","./annual":"aJJm","./daily":"oMvT","./reader":"Ztj5"}]},{},["epB2"], null)